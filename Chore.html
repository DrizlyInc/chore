<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Chore
  
    &mdash; Documentation by YARD 0.8.6.1
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (C)</a> &raquo;
    
    
    <span class="title">Chore</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Chore
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/chore.rb<span class="defines">,<br />
  lib/chore/cli.rb,<br /> lib/chore/job.rb,<br /> lib/chore/util.rb,<br /> lib/chore/lease.rb,<br /> lib/chore/hooks.rb,<br /> lib/chore/stats.rb,<br /> lib/chore/worker.rb,<br /> lib/chore/version.rb,<br /> lib/chore/fetcher.rb,<br /> lib/chore/manager.rb,<br /> lib/chore/consumer.rb,<br /> lib/chore/airbrake.rb,<br /> lib/chore/publisher.rb,<br /> lib/chore/semaphore.rb,<br /> lib/chore/json_encoder.rb,<br /> lib/chore/pipe_listener.rb,<br /> lib/chore/tapjoy/monitoring.rb,<br /> lib/chore/duplicate_detector.rb,<br /> lib/chore/consumers/sqs_consumer.rb,<br /> lib/chore/publishers/sqs_publisher.rb,<br /> lib/chore/consumers/filesystem_consumer.rb,<br /> lib/chore/consumers/locking_sqs_consumer.rb,<br /> lib/chore/publishers/filesystem_publisher.rb,<br /> lib/chore/strategies/worker/forked_worker_strategy.rb,<br /> lib/chore/strategies/worker/single_worker_strategy.rb,<br /> lib/chore/strategies/consumer/single_consumer_strategy.rb,<br /> lib/chore/strategies/consumer/threaded_consumer_strategy.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Chore/FilesystemQueue.html" title="Chore::FilesystemQueue (module)">FilesystemQueue</a></span>, <span class='object_link'><a href="Chore/Hooks.html" title="Chore::Hooks (module)">Hooks</a></span>, <span class='object_link'><a href="Chore/Job.html" title="Chore::Job (module)">Job</a></span>, <span class='object_link'><a href="Chore/JsonEncoder.html" title="Chore::JsonEncoder (module)">JsonEncoder</a></span>, <span class='object_link'><a href="Chore/Tapjoy.html" title="Chore::Tapjoy (module)">Tapjoy</a></span>, <span class='object_link'><a href="Chore/Util.html" title="Chore::Util (module)">Util</a></span>, <span class='object_link'><a href="Chore/Version.html" title="Chore::Version (module)">Version</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Chore/Airbrake.html" title="Chore::Airbrake (class)">Airbrake</a></span>, <span class='object_link'><a href="Chore/Batcher.html" title="Chore::Batcher (class)">Batcher</a></span>, <span class='object_link'><a href="Chore/CLI.html" title="Chore::CLI (class)">CLI</a></span>, <span class='object_link'><a href="Chore/Configuration.html" title="Chore::Configuration (class)">Configuration</a></span>, <span class='object_link'><a href="Chore/Consumer.html" title="Chore::Consumer (class)">Consumer</a></span>, <span class='object_link'><a href="Chore/DuplicateDetector.html" title="Chore::DuplicateDetector (class)">DuplicateDetector</a></span>, <span class='object_link'><a href="Chore/Fetcher.html" title="Chore::Fetcher (class)">Fetcher</a></span>, <span class='object_link'><a href="Chore/FilesystemConsumer.html" title="Chore::FilesystemConsumer (class)">FilesystemConsumer</a></span>, <span class='object_link'><a href="Chore/FilesystemPublisher.html" title="Chore::FilesystemPublisher (class)">FilesystemPublisher</a></span>, <span class='object_link'><a href="Chore/ForkedWorkerStrategy.html" title="Chore::ForkedWorkerStrategy (class)">ForkedWorkerStrategy</a></span>, <span class='object_link'><a href="Chore/Lease.html" title="Chore::Lease (class)">Lease</a></span>, <span class='object_link'><a href="Chore/LockingSQSConsumer.html" title="Chore::LockingSQSConsumer (class)">LockingSQSConsumer</a></span>, <span class='object_link'><a href="Chore/Manager.html" title="Chore::Manager (class)">Manager</a></span>, <span class='object_link'><a href="Chore/Pipe.html" title="Chore::Pipe (class)">Pipe</a></span>, <span class='object_link'><a href="Chore/PipeListener.html" title="Chore::PipeListener (class)">PipeListener</a></span>, <span class='object_link'><a href="Chore/PipedStats.html" title="Chore::PipedStats (class)">PipedStats</a></span>, <span class='object_link'><a href="Chore/Publisher.html" title="Chore::Publisher (class)">Publisher</a></span>, <span class='object_link'><a href="Chore/RingBuffer.html" title="Chore::RingBuffer (class)">RingBuffer</a></span>, <span class='object_link'><a href="Chore/SQSConsumer.html" title="Chore::SQSConsumer (class)">SQSConsumer</a></span>, <span class='object_link'><a href="Chore/SQSPublisher.html" title="Chore::SQSPublisher (class)">SQSPublisher</a></span>, <span class='object_link'><a href="Chore/Semaphore.html" title="Chore::Semaphore (class)">Semaphore</a></span>, <span class='object_link'><a href="Chore/SingleConsumerStrategy.html" title="Chore::SingleConsumerStrategy (class)">SingleConsumerStrategy</a></span>, <span class='object_link'><a href="Chore/SingleWorkerStrategy.html" title="Chore::SingleWorkerStrategy (class)">SingleWorkerStrategy</a></span>, <span class='object_link'><a href="Chore/StatEntry.html" title="Chore::StatEntry (class)">StatEntry</a></span>, <span class='object_link'><a href="Chore/Stats.html" title="Chore::Stats (class)">Stats</a></span>, <span class='object_link'><a href="Chore/ThreadedConsumerStrategy.html" title="Chore::ThreadedConsumerStrategy (class)">ThreadedConsumerStrategy</a></span>, <span class='object_link'><a href="Chore/UnitOfWork.html" title="Chore::UnitOfWork (class)">UnitOfWork</a></span>, <span class='object_link'><a href="Chore/Worker.html" title="Chore::Worker (class)">Worker</a></span>, <span class='object_link'><a href="Chore/WorkerListener.html" title="Chore::WorkerListener (class)">WorkerListener</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="VERSION-constant" class="">VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>Chore</span><span class='op'>::</span><span class='const'>Version</span><span class='op'>::</span><span class='const'>STRING</span></pre></dd>
      
        <dt id="DEFAULT_OPTIONS-constant" class="">DEFAULT_OPTIONS =
          <div class="docstring">
  <div class="discussion">
    
<p>The default configuration options for Chore.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='symbol'>:num_workers</span> <span class='op'>=&gt;</span> <span class='int'>4</span><span class='comma'>,</span>
  <span class='symbol'>:threads_per_queue</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span>
  <span class='symbol'>:worker_strategy</span> <span class='op'>=&gt;</span> <span class='const'>ForkedWorkerStrategy</span><span class='comma'>,</span>
  <span class='symbol'>:consumer</span> <span class='op'>=&gt;</span> <span class='const'>SQSConsumer</span><span class='comma'>,</span>
  <span class='symbol'>:fetcher</span> <span class='op'>=&gt;</span> <span class='const'>Fetcher</span><span class='comma'>,</span>
  <span class='symbol'>:fetcher_strategy</span> <span class='op'>=&gt;</span> <span class='const'>ThreadedConsumerStrategy</span><span class='comma'>,</span>
  <span class='symbol'>:batch_size</span> <span class='op'>=&gt;</span> <span class='int'>50</span>
<span class='rbrace'>}</span></pre></dd>
      
    </dl>
  




  <h2>Class Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#logger-class_method" title="logger (class method)">+ (Object) <strong>logger</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Access Chore's logger in a memoized fashion.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#stats-class_method" title="stats (class method)">+ (Object) <strong>stats</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute stats.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_hook-class_method" title="add_hook (class method)">+ (Object) <strong>add_hook</strong>(name, &amp;blk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a global hook for <code>name</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#airbrake-class_method" title="airbrake (class method)">+ (Object) <strong>airbrake</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear_hooks%21-class_method" title="clear_hooks! (class method)">+ (Object) <strong>clear_hooks!</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#config-class_method" title="config (class method)">+ (Object) <strong>config</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the current Chore configuration as specified by configure.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configure-class_method" title="configure (class method)">+ (Object) <strong>configure</strong>(opts = {}) {|@config| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Configure global chore options.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hooks_for-class_method" title="hooks_for (class method)">+ (Object) <strong>hooks_for</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A helper to get a list of all the hooks for a given <code>name</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_hooks_for-class_method" title="run_hooks_for (class method)">+ (Object) <strong>run_hooks_for</strong>(name, *args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Run the global hooks associated with a particular <code>name</code> passing
all <code>args</code> to the registered block.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id="logger=-class_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="logger-class_method">
  
    + (<tt>Object</tt>) <strong>logger</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Access Chore's logger in a memoized fashion. Will create an instance of the
logger if one doesn't already exist.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/chore.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_logger'>logger</span>
  <span class='ivar'>@logger</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="stats=-class_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="stats-class_method">
  
    + (<tt>Object</tt>) <strong>stats</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute stats</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58
59
60</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/chore.rb', line 58</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stats'>stats</span>
  <span class='ivar'>@stats</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_hook-class_method">
  
    + (<tt>Object</tt>) <strong>add_hook</strong>(name, &amp;blk) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a global hook for <code>name</code>. Will run <tt>&amp;amp;blk</tt> when the hook
is executed.  Global hooks are any hooks that don't have access to an
instance of a job. See the docs on Hooks for a full list of global hooks.</p>

<h3 id="label-Examples+">Examples </h3>

<pre class="code ruby"><code class="ruby"><span class='const'>Chore</span><span class='period'>.</span><span class='id identifier rubyid_add_hook_for'>add_hook_for</span><span class='lparen'>(</span><span class='symbol'>:after_fork</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='const'>SomeDB</span><span class='period'>.</span><span class='id identifier rubyid_reset_connection!'>reset_connection!</span>
<span class='kw'>end</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84
85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/chore.rb', line 82</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_add_hook'>add_hook</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='cvar'>@@hooks</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='lparen'>(</span><span class='cvar'>@@hooks</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_blk'>blk</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="airbrake-class_method">
  
    + (<tt>Object</tt>) <strong>airbrake</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/chore/airbrake.rb', line 30</span>

<span class='kw'>def</span> <span class='const'>Chore</span><span class='period'>.</span><span class='id identifier rubyid_airbrake'>airbrake</span> <span class='comment'>#:nodoc:
</span>  <span class='const'>Chore</span><span class='op'>::</span><span class='const'>Airbrake</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear_hooks!-class_method">
  
    + (<tt>Object</tt>) <strong>clear_hooks!</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/chore.rb', line 93</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_clear_hooks!'>clear_hooks!</span> <span class='comment'>#:nodoc:
</span>  <span class='cvar'>@@hooks</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="config-class_method">
  
    + (<tt>Object</tt>) <strong>config</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the current Chore configuration as specified by
<code>configure</code>. You can chain config options off of this to get
access to current config data.</p>

<h3 id="label-Examples">Examples</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_puts'>puts</span> <span class='const'>Chore</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_num_workers'>num_workers</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/chore.rb', line 125</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span>
  <span class='ivar'>@config</span> <span class='op'>||=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="configure-class_method">
  
    + (<tt>Object</tt>) <strong>configure</strong>(opts = {}) {|@config| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Configure global chore options. Takes a hash for <code>opts</code>. This
includes things like the current Worker Strategy
(<code>:worker_strategy</code>), the default Consumer
(<code>:consumer</code>), and the default Fetcher
Strategy(+:fetcher_strategy). It's safe to call multiple times (will merge
the new config, into the old) This is used by the command line parsing code
to setup Chore. If a <code>block</code> is given, <code>configure</code>
will yield the config object, so you can set options directly.</p>

<h3 id="label-Examples">Examples</h3>

<pre class="ruby"><span class="ruby-constant">Chore</span>.<span class="ruby-identifier">configure</span>({:<span class="ruby-identifier">worker_strategy</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Chore</span><span class="ruby-operator">::</span><span class="ruby-constant">ForkedWorkerStrategy</span>})

<span class="ruby-constant">Chore</span>.<span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">consumer</span> = <span class="ruby-constant">Chore</span><span class="ruby-operator">::</span><span class="ruby-constant">SQSConsumer</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">batch_size</span> = <span class="ruby-value">50</span>
<span class="ruby-keyword">end</span>
</pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>@<span class='object_link'><a href="#config-class_method" title="Chore.config (method)">config</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117
118
119</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/chore.rb', line 115</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@config</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@config</span> <span class='op'>?</span> <span class='ivar'>@config</span><span class='period'>.</span><span class='id identifier rubyid_merge_hash'>merge_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='const'>Chore</span><span class='op'>::</span><span class='const'>Configuration</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>DEFAULT_OPTIONS</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>yield</span> <span class='ivar'>@config</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='ivar'>@config</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hooks_for-class_method">
  
    + (<tt>Object</tt>) <strong>hooks_for</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A helper to get a list of all the hooks for a given <code>name</code></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/chore.rb', line 88</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_hooks_for'>hooks_for</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='cvar'>@@hooks</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='cvar'>@@hooks</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_hooks_for-class_method">
  
    + (<tt>Object</tt>) <strong>run_hooks_for</strong>(name, *args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Run the global hooks associated with a particular <code>name</code> passing
all <code>args</code> to the registered block.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/chore.rb', line 98</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_run_hooks_for'>run_hooks_for</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_hooks'>hooks</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_hooks_for'>hooks_for</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_hooks'>hooks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span><span class='rbrace'>}</span> <span class='kw'>unless</span> <span class='id identifier rubyid_hooks'>hooks</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_hooks'>hooks</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Mon May  6 16:12:45 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.6.1 (ruby-1.9.3).
</div>

  </body>
</html>